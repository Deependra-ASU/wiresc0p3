#!/usr/bin/env python

import swpag_client

TEAM_URL = 'http://34.211.129.130'
TEAM_FLAG_TOKEN ="WOfdkzdhsZEIlPEIai49"

def main():
  try:
    team = swpag_client.Team(TEAM_URL, TEAM_FLAG_TOKEN)
    TARGET_IDS = team.get_service_list()
    for target_id in TARGET_IDS:
        target_info = team.get_targets(target_id['service_id'])
        #target_info = team.get_targets(1)
        for target in target_info:            
            print(f"Team name:{target['team_name']}")
            print(f"Host name:{target['hostname']}")
            print(f"Port:{target['port']}")
            print(f"Flag Id:{target['flag_id']}")        
  except Exception as e:
    print(e)

if __name__ == "__main__":
  main()